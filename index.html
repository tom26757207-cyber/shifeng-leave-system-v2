<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§è±å±…å®¶é•·ç…§ - å±…æœå“¡è«‹å‡ç”³è«‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        
        .form-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .section-title {
            border-left: 4px solid #1e40af;
            padding-left: 12px;
            margin-bottom: 16px;
            font-weight: 600;
            color: #1e3a8a;
        }
        
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        
        .loading.active {
            display: flex;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1e40af;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        select, input, textarea {
            font-size: 16px;
        }
        
        .autocomplete-container {
            position: relative;
        }
        
        .autocomplete-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-top: none;
            border-radius: 0 0 0.5rem 0.5rem;
            max-height: 250px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        .autocomplete-list.active {
            display: block;
        }
        
        .autocomplete-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.15s;
        }
        
        .autocomplete-item:hover {
            background-color: #eff6ff;
        }
        
        .autocomplete-item:last-child {
            border-bottom: none;
        }
        
        .autocomplete-item .emp-id {
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        .autocomplete-item .emp-name {
            font-weight: 500;
            color: #1f2937;
        }

        .time-input-group {
            display: none;
        }

        .time-input-group.active {
            display: grid;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen py-8 px-4">
    
    <!-- Loading å‹•ç•« -->
    <div class="loading" id="loadingOverlay">
        <div class="bg-white p-6 rounded-lg shadow-xl text-center">
            <div class="spinner mx-auto mb-4"></div>
            <p class="text-gray-700 font-medium">è™•ç†ä¸­...</p>
        </div>
    </div>

    <div class="form-container">
        <!-- Header -->
        <div class="bg-white rounded-t-2xl shadow-lg p-6 mb-0">
            <div class="text-center">
                <h1 class="text-3xl font-bold text-blue-900 mb-2">ç§è±å±…å®¶é•·ç…§æ©Ÿæ§‹</h1>
                <p class="text-blue-600 text-lg">å±…æœå“¡è«‹å‡ç”³è«‹è¡¨å–®</p>
            </div>
        </div>

        <!-- Form -->
        <form id="leaveForm" class="bg-white shadow-lg rounded-b-2xl p-8 space-y-6">
            
            <!-- å“¡å·¥è³‡è¨Š -->
            <div>
                <h2 class="section-title">ğŸ‘¤ å“¡å·¥è³‡è¨Š</h2>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <!-- å“¡å·¥å§“åï¼ˆè‡ªå‹•å®Œæˆï¼‰ -->
                    <div class="autocomplete-container">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            å“¡å·¥å§“å <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="emp_name" 
                            name="emp_name"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            placeholder="è«‹è¼¸å…¥å§“å..."
                            autocomplete="off"
                            required
                        >
                        <div id="autocompleteList" class="autocomplete-list"></div>
                    </div>

                    <!-- å“¡å·¥ç·¨è™Ÿï¼ˆè‡ªå‹•å¡«å…¥ï¼‰ -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            å“¡å·¥ç·¨è™Ÿ <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="emp_id" 
                            name="emp_id"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"
                            placeholder="é¸æ“‡å§“åå¾Œè‡ªå‹•å¸¶å…¥"
                            readonly
                            required
                        >
                    </div>
                </div>
            </div>

            <!-- è«‹å‡è³‡è¨Š -->
            <div>
                <h2 class="section-title">ğŸ“… è«‹å‡è³‡è¨Š</h2>
                
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <!-- è«‹å‡é¡åˆ¥ -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            è«‹å‡é¡åˆ¥ <span class="text-red-500">*</span>
                        </label>
                        <select 
                            id="leave_type" 
                            name="leave_type"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            required
                        >
                            <option value="">è«‹é¸æ“‡è«‹å‡é¡åˆ¥</option>
                        </select>
                    </div>

                    <!-- æ™‚é–“é¸æ“‡æ–¹å¼ -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            æ™‚é–“é¸æ“‡æ–¹å¼ <span class="text-red-500">*</span>
                        </label>
                        <select 
                            id="time_mode" 
                            name="time_mode"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            required
                        >
                            <option value="date">æ—¥æœŸé¸æ“‡ï¼ˆæ•´å¤©æˆ–å¤šå¤©ï¼‰</option>
                            <option value="time">æ™‚é–“é¸æ“‡ï¼ˆå¹¾é»åˆ°å¹¾é»ï¼‰</option>
                        </select>
                    </div>
                </div>

                <!-- æ—¥æœŸæ¨¡å¼ -->
                <div id="dateMode" class="grid md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            è«‹å‡èµ·æ—¥ <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="date" 
                            id="start_date" 
                            name="start_date"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            required
                        >
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            è«‹å‡è¿„æ—¥ <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="date" 
                            id="end_date" 
                            name="end_date"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            required
                        >
                    </div>
                </div>

                <!-- æ™‚é–“æ¨¡å¼ -->
                <div id="timeMode" class="time-input-group grid md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            è«‹å‡æ—¥æœŸ <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="date" 
                            id="leave_date" 
                            name="leave_date"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                        >
                    </div>

                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                é–‹å§‹æ™‚é–“ <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="time" 
                                id="start_time" 
                                name="start_time"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            >
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                çµæŸæ™‚é–“ <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="time" 
                                id="end_time" 
                                name="end_time"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            >
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            å¤©æ•¸
                        </label>
                        <input 
                            type="number" 
                            id="days" 
                            name="days"
                            step="0.5"
                            min="0"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            placeholder="ç³»çµ±è‡ªå‹•è¨ˆç®—æˆ–æ‰‹å‹•è¼¸å…¥"
                        >
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            æ™‚æ•¸
                        </label>
                        <input 
                            type="number" 
                            id="hours" 
                            name="hours"
                            step="0.5"
                            min="0"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            placeholder="ç³»çµ±è‡ªå‹•è¨ˆç®—æˆ–æ‰‹å‹•è¼¸å…¥"
                        >
                    </div>
                </div>
            </div>

            <!-- è«‹å‡è©³æƒ… -->
            <div>
                <h2 class="section-title">ğŸ“ è«‹å‡è©³æƒ…</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            è«‹å‡äº‹ç”± <span class="text-red-500">*</span>
                        </label>
                        <textarea 
                            id="reason" 
                            name="reason"
                            rows="3"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            placeholder="è«‹èªªæ˜è«‹å‡åŸå› ..."
                            required
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            å½±éŸ¿å€‹æ¡ˆ
                        </label>
                        <textarea 
                            id="affected_cases" 
                            name="affected_cases"
                            rows="2"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            placeholder="è«‹åˆ—å‡ºå—å½±éŸ¿çš„æ¡ˆå®¶ï¼ˆè‹¥ç„¡å¯ç•™ç©ºï¼‰"
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            äº¤æ¥äº‹é …å®Œæˆç‹€æ…‹ <span class="text-red-500">*</span>
                        </label>
                        <select 
                            id="handover_status" 
                            name="handover_status"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            required
                        >
                            <option value="å·²å®Œæˆ">âœ… å·²å®Œæˆï¼ˆå·²åœ¨ç¾¤çµ„å®Œæˆäº¤æ¥ï¼‰</option>
                            <option value="æœªå®Œæˆ">â³ æœªå®Œæˆï¼ˆå°šæœªäº¤æ¥ï¼‰</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            å‚™è¨»ï¼ˆäº¤ç­æé†’äº‹é …ï¼‰
                        </label>
                        <textarea 
                            id="notes" 
                            name="notes"
                            rows="2"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                            placeholder="å…¶ä»–éœ€è¦æé†’çš„äº‹é …..."
                        ></textarea>
                    </div>
                </div>
            </div>

            <!-- æäº¤æŒ‰éˆ• -->
            <div class="pt-4">
                <button 
                    type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg shadow-lg transition duration-200 transform hover:scale-[1.02]"
                >
                    ğŸ“¤ æäº¤è«‹å‡ç”³è«‹
                </button>
            </div>
        </form>

        <!-- Footer -->
        <div class="text-center mt-6 text-gray-500 text-sm">
            <p>ç§è±å±…å®¶é•·ç…§æ©Ÿæ§‹ Â© 2026</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
